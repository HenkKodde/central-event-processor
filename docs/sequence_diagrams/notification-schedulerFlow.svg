<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="762px" preserveAspectRatio="none" style="width:374px;height:762px;" version="1.1" viewBox="0 0 374 762" width="374px" zoomAndPan="magnify"><defs><filter height="300%" id="f1p5bjbgvvoaw0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="237" x="69.5" y="23.5352">10.6. Notification Scheduler Flow</text><rect fill="#90EE90" height="716.6348" style="stroke: #A80036; stroke-width: 1.0;" width="265.5" x="29" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="220" x="51.75" y="47.0566">Central Event Processing Service</text><rect fill="#FFFFFF" filter="url(#f1p5bjbgvvoaw0)" height="549.3477" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="75.5" y="126.2871"/><rect fill="#FFFFFF" filter="url(#f1p5bjbgvvoaw0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="249.5" y="268.8398"/><rect fill="#FFFFFF" filter="url(#f1p5bjbgvvoaw0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="249.5" y="506.7031"/><rect fill="#FFFFFF" filter="url(#f1p5bjbgvvoaw0)" height="535.3477" style="stroke: #000000; stroke-width: 2.0;" width="350" x="13" y="133.2871"/><rect fill="#FFFFFF" filter="url(#f1p5bjbgvvoaw0)" height="275.1738" style="stroke: #000000; stroke-width: 2.0;" width="330" x="23" y="386.4609"/><rect fill="#FFFFFF" height="2" style="stroke: none; stroke-width: 1.0;" width="330" x="23" y="659.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="80" x2="80" y1="116.2871" y2="685.6348"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="254.5" x2="254.5" y1="116.2871" y2="685.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="33" y="113.334">Action Agent</text><ellipse cx="80.5" cy="83.7988" fill="#FEFECE" filter="url(#f1p5bjbgvvoaw0)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="76.5,71.7988,82.5,66.7988,80.5,71.7988,82.5,76.7988,76.5,71.7988" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="89" x="33" y="698.1699">Action Agent</text><ellipse cx="80.5" cy="717.123" fill="#FEFECE" filter="url(#f1p5bjbgvvoaw0)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="76.5,705.123,82.5,700.123,80.5,705.123,82.5,710.123,76.5,705.123" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="218.5" y="113.334">CEP Store</text><path d="M236.5,63.7988 C236.5,53.7988 254.5,53.7988 254.5,53.7988 C254.5,53.7988 272.5,53.7988 272.5,63.7988 L272.5,89.7988 C272.5,99.7988 254.5,99.7988 254.5,99.7988 C254.5,99.7988 236.5,99.7988 236.5,89.7988 L236.5,63.7988 " fill="#FEFECE" filter="url(#f1p5bjbgvvoaw0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M236.5,63.7988 C236.5,73.7988 254.5,73.7988 254.5,73.7988 C254.5,73.7988 272.5,73.7988 272.5,63.7988 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="218.5" y="698.1699">CEP Store</text><path d="M236.5,711.123 C236.5,701.123 254.5,701.123 254.5,701.123 C254.5,701.123 272.5,701.123 272.5,711.123 L272.5,737.123 C272.5,747.123 254.5,747.123 254.5,747.123 C254.5,747.123 236.5,747.123 236.5,737.123 L236.5,711.123 " fill="#FEFECE" filter="url(#f1p5bjbgvvoaw0)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M236.5,711.123 C236.5,721.123 254.5,721.123 254.5,721.123 C254.5,721.123 272.5,721.123 272.5,711.123 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f1p5bjbgvvoaw0)" height="549.3477" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="75.5" y="126.2871"/><rect fill="#FFFFFF" filter="url(#f1p5bjbgvvoaw0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="249.5" y="268.8398"/><rect fill="#FFFFFF" filter="url(#f1p5bjbgvvoaw0)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="249.5" y="506.7031"/><path d="M13,133.2871 L159,133.2871 L159,140.2871 L149,150.2871 L13,150.2871 L13,133.2871 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="535.3477" style="stroke: #000000; stroke-width: 2.0;" width="350" x="13" y="133.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="101" x="28" y="146.8555">Scheduler Flow</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="85.5" x2="127.5" y1="171.9082" y2="171.9082"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127.5" x2="127.5" y1="171.9082" y2="184.9082"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="86.5" x2="127.5" y1="184.9082" y2="184.9082"/><polygon fill="#A80036" points="96.5,180.9082,86.5,184.9082,96.5,188.9082,92.5,184.9082" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="92.5" y="167.166">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="109.5" y="167.166"/><path d="M90,197.9082 L90,237.9082 L336,237.9082 L336,207.9082 L326,197.9082 L90,197.9082 " fill="#D3D3D3" filter="url(#f1p5bjbgvvoaw0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M326,197.9082 L326,207.9082 L336,207.9082 L326,197.9082 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="96" y="215.4766">Scheduled time for certain</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="34" x="96" y="230.7871">event</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="134" y="230.7871">&lt;actionId&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="109" x="212" y="230.7871">has been reached</text><polygon fill="#A80036" points="237.5,264.8398,247.5,268.8398,237.5,272.8398,241.5,268.8398" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="85.5" x2="243.5" y1="268.8398" y2="268.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="92.5" y="264.0977">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="109.5" y="264.0977"/><polygon fill="#FBFB77" filter="url(#f1p5bjbgvvoaw0)" points="233,311.8398,276,311.8398,286,322.8398,276,334.8398,233,334.8398,223,322.8398,233,311.8398" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="235" y="328.4082">action</text><path d="M90,345.1504 L90,370.1504 L241,370.1504 L241,355.1504 L231,345.1504 L90,345.1504 " fill="#D3D3D3" filter="url(#f1p5bjbgvvoaw0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M231,345.1504 L231,355.1504 L241,355.1504 L231,345.1504 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="96" y="362.7188">Request Action by Id</text><path d="M23,386.4609 L85,386.4609 L85,393.4609 L75,403.4609 L23,403.4609 L23,386.4609 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="275.1738" style="stroke: #000000; stroke-width: 2.0;" width="330" x="23" y="386.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="400.0293">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95" x="100" y="399.0957">[Action is active]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="85.5" x2="127.5" y1="425.082" y2="425.082"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127.5" x2="127.5" y1="425.082" y2="438.082"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="86.5" x2="127.5" y1="438.082" y2="438.082"/><polygon fill="#A80036" points="96.5,434.082,86.5,438.082,96.5,442.082,92.5,438.082" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="92.5" y="420.3398">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="109.5" y="420.3398"/><path d="M90,451.082 L90,476.082 L339,476.082 L339,461.082 L329,451.082 L90,451.082 " fill="#D3D3D3" filter="url(#f1p5bjbgvvoaw0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M329,451.082 L329,461.082 L339,461.082 L329,451.082 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="96" y="468.6504">Reset action timesTriggered counter</text><polygon fill="#A80036" points="237.5,502.7031,247.5,506.7031,237.5,510.7031,241.5,506.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="85.5" x2="243.5" y1="506.7031" y2="506.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="92.5" y="501.9609">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="105.5" y="501.9609">Persist Action Object</text><polygon fill="#FBFB77" filter="url(#f1p5bjbgvvoaw0)" points="233,549.7031,276,549.7031,286,560.7031,276,572.7031,233,572.7031,223,560.7031,233,549.7031" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="39" x="235" y="566.2715">action</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="85.5" x2="127.5" y1="599.3242" y2="599.3242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="127.5" x2="127.5" y1="599.3242" y2="612.3242"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="86.5" x2="127.5" y1="612.3242" y2="612.3242"/><polygon fill="#A80036" points="96.5,608.3242,86.5,612.3242,96.5,616.3242,92.5,612.3242" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="92.5" y="594.582">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="109.5" y="594.582"/><path d="M90,625.3242 L90,650.3242 L321,650.3242 L321,635.3242 L311,625.3242 L90,625.3242 " fill="#D3D3D3" filter="url(#f1p5bjbgvvoaw0)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M311,625.3242 L311,635.3242 L321,635.3242 L311,625.3242 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="96" y="642.8926">Reschedule the same</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="74" x="232" y="642.8926">&lt;actionId&gt;</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="353" y1="660.6348" y2="660.6348"/><!--
@startuml
title 10.6. Notification Scheduler Flow
autonumber

control "Action Agent" as AA
database "CEP Store" as DB

box "Central Services" #LightYellow
end box
box "Central Event Processing Service" #LightGreen
participant AA
participant DB
end box

Group Scheduler Flow
    activate AA
    AA -> AA
    note right of AA #lightGrey
    Scheduled time for certain
    event **<actionId>** has been reached
    end note
    AA -> DB
    hnote over DB
        action
    end note
    activate DB
    deactivate DB
    note right of AA #lightGrey
        Request Action by Id
    end note
    alt Action is active
    AA -> AA
    note right of AA #lightGrey
        Reset action timesTriggered counter
    end note
    AA -> DB: Persist Action Object
    hnote over DB
        action
    end note
    activate DB
    deactivate DB
    AA -> AA
    note right of AA #lightGrey
        Reschedule the same **<actionId>**
    end note
    else
    end
end
    deactivate AA
@enduml

PlantUML version 1.2018.11(Sat Sep 22 18:43:53 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1343-b26
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>