<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1208px" preserveAspectRatio="none" style="width:707px;height:1208px;" version="1.1" viewBox="0 0 707 1208" width="707.2px" zoomAndPan="magnify"><defs><filter height="300%" id="f14kbewz9tsu8s" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.600000023841858"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.200000047683716" dy="3.200000047683716" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="171.2" x="268.8" y="18.8281">10.5. Notification Action Flow</text><rect fill="#FFFFE0" height="1171.9625" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="124" x="31.2" y="27.5906"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86.4" x="50" y="37.6453">Central Services</text><rect fill="#90EE90" height="1171.9625" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="520.8" x="156.8" y="27.5906"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="176" x="329.2" y="37.6453">Central Event Processing Service</text><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="1032.5328" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="223.2" y="101.0297"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="958.9875" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="380" y="137.5266"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="641.6" y="245.7203"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="641.6" y="453.3078"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="50.0969" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="641.6" y="546.8531"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="641.6" y="891.611"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="1026.9328" style="stroke: #000000; stroke-width: 1.600000023841858;" width="688" x="10.4" y="106.6297"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="913.1391" style="stroke: #000000; stroke-width: 1.600000023841858;" width="672" x="18.4" y="214.8234"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="562.9938" style="stroke: #000000; stroke-width: 1.600000023841858;" width="656" x="26.4" y="515.9563"/><rect fill="#FFFFFF" height="318.6609" style="stroke: none; stroke-width: 0.800000011920929;" width="656" x="26.4" y="760.2891"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="91.1094" style="stroke: #000000; stroke-width: 1.600000023841858;" width="267.2" x="338" y="777.8531"/><rect fill="#FFFFFF" height="11.9641" style="stroke: none; stroke-width: 0.800000011920929;" width="267.2" x="338" y="856.9985"/><rect fill="#FFFFFF" height="43.4125" style="stroke: none; stroke-width: 0.800000011920929;" width="672" x="18.4" y="1084.55"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="92.8" x2="92.8" y1="93.0297" y2="1147.1625"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="227.2" x2="227.2" y1="93.0297" y2="1147.1625"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="383.6" x2="383.6" y1="93.0297" y2="1147.1625"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="645.6" x2="645.6" y1="93.0297" y2="1147.1625"/><rect fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" height="24.3906" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="111.2" x="37.6" y="61.4391"/><rect fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" height="24.3906" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="111.2" x="34.4" y="64.6391"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="100" x="40" y="81.0672">Notification-Topic</text><rect fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" height="24.3906" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="111.2" x="37.6" y="1146.3625"/><rect fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" height="24.3906" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="111.2" x="34.4" y="1149.5625"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="100" x="40" y="1165.9906">Notification-Topic</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="129.6" x="160" y="90.6672">Central Event Processor</text><path d="M210.8,57.4391 L210.8,76.6391 M210.8,67.0391 L224.4,67.0391 " fill="none" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><ellipse cx="234" cy="67.0391" fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="129.6" x="160" y="1157.1906">Central Event Processor</text><path d="M210.8,1162.7531 L210.8,1181.9531 M210.8,1172.3531 L224.4,1172.3531 " fill="none" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><ellipse cx="234" cy="1172.3531" fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="71.2" x="346" y="90.6672">Action Agent</text><ellipse cx="384" cy="67.0391" fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><polygon fill="#A80036" points="380.8,57.4391,385.6,53.4391,384,57.4391,385.6,61.4391,380.8,57.4391" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="71.2" x="346" y="1157.1906">Action Agent</text><ellipse cx="384" cy="1172.3531" fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><polygon fill="#A80036" points="380.8,1162.7531,385.6,1158.7531,384,1162.7531,385.6,1166.7531,380.8,1162.7531" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="52.8" x="616.8" y="90.6672">CEP Store</text><path d="M631.2,51.0391 C631.2,43.0391 645.6,43.0391 645.6,43.0391 C645.6,43.0391 660,43.0391 660,51.0391 L660,71.8391 C660,79.8391 645.6,79.8391 645.6,79.8391 C645.6,79.8391 631.2,79.8391 631.2,71.8391 L631.2,51.0391 " fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><path d="M631.2,51.0391 C631.2,59.0391 645.6,59.0391 645.6,59.0391 C645.6,59.0391 660,59.0391 660,51.0391 " fill="none" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="52.8" x="616.8" y="1157.1906">CEP Store</text><path d="M631.2,1167.5531 C631.2,1159.5531 645.6,1159.5531 645.6,1159.5531 C645.6,1159.5531 660,1159.5531 660,1167.5531 L660,1188.3531 C660,1196.3531 645.6,1196.3531 645.6,1196.3531 C645.6,1196.3531 631.2,1196.3531 631.2,1188.3531 L631.2,1167.5531 " fill="#FEFECE" filter="url(#f14kbewz9tsu8s)" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><path d="M631.2,1167.5531 C631.2,1175.5531 645.6,1175.5531 645.6,1175.5531 C645.6,1175.5531 660,1175.5531 660,1167.5531 " fill="none" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="1032.5328" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="223.2" y="101.0297"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="958.9875" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="380" y="137.5266"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="641.6" y="245.7203"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="641.6" y="453.3078"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="50.0969" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="641.6" y="546.8531"/><rect fill="#FFFFFF" filter="url(#f14kbewz9tsu8s)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="641.6" y="891.611"/><path d="M10.4,106.6297 L108,106.6297 L108,112.2297 L100,120.2297 L10.4,120.2297 L10.4,106.6297 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="1026.9328" style="stroke: #000000; stroke-width: 1.600000023841858;" width="688" x="10.4" y="106.6297"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61.6" x="22.4" y="117.4844">Action Flow</text><polygon fill="#A80036" points="370.4,134.3266,378.4,137.5266,370.4,140.7266,373.6,137.5266" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="231.2" x2="375.2" y1="137.5266" y2="137.5266"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="236.8" y="133.7328">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="123.2" x="247.2" y="133.7328">Recieves an action event</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388" x2="421.6" y1="160.975" y2="160.975"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="421.6" x2="421.6" y1="160.975" y2="171.375"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388.8" x2="421.6" y1="171.375" y2="171.375"/><polygon fill="#A80036" points="396.8,168.175,388.8,171.375,396.8,174.575,393.6,171.375" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="393.6" y="157.1813">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="407.2" y="157.1813"/><path d="M392,181.775 L392,201.775 L515.2,201.775 L515.2,189.775 L507.2,181.775 L392,181.775 " fill="#D3D3D3" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M507.2,181.775 L507.2,189.775 L515.2,189.775 L507.2,181.775 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="106.4" x="396.8" y="195.8297">Evaluate action event</text><path d="M18.4,214.8234 L68,214.8234 L68,220.4234 L60,228.4234 L18.4,228.4234 L18.4,214.8234 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="913.1391" style="stroke: #000000; stroke-width: 1.600000023841858;" width="672" x="18.4" y="214.8234"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="30.4" y="225.6781">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87.2" x="80" y="224.9313">[Finish Signal "No"]</text><polygon fill="#A80036" points="632,242.5203,640,245.7203,632,248.9203,635.2,245.7203" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388" x2="636.8" y1="245.7203" y2="245.7203"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="393.6" y="241.9266">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="40" x="404" y="241.9266">Request</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72.8" x="447.2" y="241.9266">Action Object</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="33.6" x="523.2" y="241.9266">details</text><polygon fill="#FBFB77" filter="url(#f14kbewz9tsu8s)" points="624.8,280.1203,665.6,280.1203,673.6,288.9203,665.6,298.5203,624.8,298.5203,616.8,288.9203,624.8,280.1203" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="37.6" x="626.4" y="293.375">request</text><path d="M392,306.7688 L392,363.5688 L552,363.5688 L552,314.7688 L544,306.7688 L392,306.7688 " fill="#D3D3D3" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M544,306.7688 L544,314.7688 L552,314.7688 L544,306.7688 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72.8" x="396.8" y="320.8234">Action Object</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="67.2" x="472.8" y="320.8234">event details;</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="101.6" x="409.6" y="333.0719">Event action details,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="122.4" x="409.6" y="345.3203">Hub notification details,</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="126.4" x="409.6" y="357.5688">DFSP notification details.</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388" x2="421.6" y1="388.0109" y2="388.0109"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="421.6" x2="421.6" y1="388.0109" y2="398.4109"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388.8" x2="421.6" y1="398.4109" y2="398.4109"/><polygon fill="#A80036" points="396.8,395.2109,388.8,398.4109,396.8,401.6109,393.6,398.4109" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="393.6" y="384.2172">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="407.2" y="384.2172"/><path d="M392,408.8109 L392,428.8109 L544,428.8109 L544,416.8109 L536,408.8109 L392,408.8109 " fill="#D3D3D3" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M536,408.8109 L536,416.8109 L544,416.8109 L536,408.8109 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="135.2" x="396.8" y="422.8656">Prepare notification details</text><polygon fill="#A80036" points="632,450.1078,640,453.3078,632,456.5078,635.2,453.3078" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388" x2="636.8" y1="453.3078" y2="453.3078"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="393.6" y="449.5141">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="40" x="404" y="449.5141">Request</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72.8" x="447.2" y="449.5141">Action Object</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="108.8" x="523.2" y="449.5141">by same event details</text><polygon fill="#FBFB77" filter="url(#f14kbewz9tsu8s)" points="624.8,487.7078,665.6,487.7078,673.6,496.5078,665.6,506.1078,624.8,506.1078,616.8,496.5078,624.8,487.7078" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="37.6" x="626.4" y="500.9625">request</text><path d="M26.4,515.9563 L76,515.9563 L76,521.5563 L68,529.5563 L26.4,529.5563 L26.4,515.9563 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="562.9938" style="stroke: #000000; stroke-width: 1.600000023841858;" width="656" x="26.4" y="515.9563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="38.4" y="526.8109">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="88" y="526.0641">[No previous</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60.8" x="148.8" y="526.0641">Action Object</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="212.8" y="526.0641">with same event detail]</text><polygon fill="#A80036" points="632,543.6531,640,546.8531,632,550.0531,635.2,546.8531" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388" x2="636.8" y1="546.8531" y2="546.8531"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="393.6" y="543.0594">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="25.6" x="404" y="543.0594">Store</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72.8" x="432.8" y="543.0594">Action Object</text><polygon fill="#FBFB77" filter="url(#f14kbewz9tsu8s)" points="628,557.2531,662.4,557.2531,670.4,566.0531,662.4,575.6531,628,575.6531,620,566.0531,628,557.2531" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="629.6" y="570.5078">action</text><polygon fill="#A80036" points="396.8,593.75,388.8,596.95,396.8,600.15,393.6,596.95" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="392" x2="644.8" y1="596.95" y2="596.95"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="401.6" y="593.1563">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="64.8" x="412" y="593.1563">Return result</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43.2" x="480" y="593.1563">actionId</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388" x2="421.6" y1="620.3984" y2="620.3984"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="421.6" x2="421.6" y1="620.3984" y2="630.7984"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388.8" x2="421.6" y1="630.7984" y2="630.7984"/><polygon fill="#A80036" points="396.8,627.5984,388.8,630.7984,396.8,633.9984,393.6,630.7984" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="393.6" y="616.6047">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="407.2" y="616.6047"/><path d="M392,641.1984 L392,673.1984 L551.2,673.1984 L551.2,649.1984 L543.2,641.1984 L392,641.1984 " fill="#D3D3D3" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M543.2,641.1984 L543.2,649.1984 L551.2,649.1984 L543.2,641.1984 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="142.4" x="396.8" y="655.2531">Schedule reset repetition for</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="19.2" x="396.8" y="667.5016">this</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43.2" x="419.2" y="667.5016">actionId</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="58.4" x="465.6" y="667.5016">as per rules</text><polygon fill="#A80036" points="102,694.7438,94,697.9438,102,701.1438,98.8,697.9438" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="97.2" x2="379.2" y1="697.9438" y2="697.9438"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="106.8" y="694.15">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="150.4" x="117.2" y="694.15">Update topic with notification</text><path d="M232.8,708.3438 L232.8,752.3438 L372.8,752.3438 L372.8,716.3438 L364.8,708.3438 L232.8,708.3438 " fill="#FBFB77" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M364.8,708.3438 L364.8,716.3438 L372.8,716.3438 L364.8,708.3438 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="237.6" y="722.3984">{</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="110.4" x="250.4" y="734.6469">from field = "SYSTEM"</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="237.6" y="746.8953">}</text><line style="stroke: #000000; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="26.4" x2="682.4" y1="761.0891" y2="761.0891"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="42.4" x="30.4" y="769.5969">[Previous</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60.8" x="76" y="769.5969">Action Object</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="140" y="769.5969">with same event detail]</text><path d="M338,777.8531 L387.6,777.8531 L387.6,783.4531 L379.6,791.4531 L338,791.4531 L338,777.8531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="91.1094" style="stroke: #000000; stroke-width: 1.600000023841858;" width="267.2" x="338" y="777.8531"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="350" y="788.7078">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="201.6" x="399.6" y="787.9609">[Repetition and notification interval allowed]</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388" x2="421.6" y1="808.75" y2="808.75"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="421.6" x2="421.6" y1="808.75" y2="819.15"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388.8" x2="421.6" y1="819.15" y2="819.15"/><polygon fill="#A80036" points="396.8,815.95,388.8,819.15,396.8,822.35,393.6,819.15" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.4" x="393.6" y="804.9563">10</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="414.4" y="804.9563"/><path d="M392,829.55 L392,849.55 L481.6,849.55 L481.6,837.55 L473.6,829.55 L392,829.55 " fill="#D3D3D3" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M473.6,829.55 L473.6,837.55 L481.6,837.55 L473.6,829.55 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="72.8" x="396.8" y="843.6047">Update action.</text><line style="stroke: #000000; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="338" x2="605.2" y1="857.7985" y2="857.7985"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="256.8" x="342" y="866.3063">[Repetition and notification interval allowed not allowed]</text><polygon fill="#A80036" points="632,888.411,640,891.611,632,894.811,635.2,891.611" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388" x2="636.8" y1="891.611" y2="891.611"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.4" x="393.6" y="887.8172">11</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="35.2" x="411.2" y="887.8172">Update</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="72.8" x="449.6" y="887.8172">Action Object</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388" x2="421.6" y1="939.0594" y2="939.0594"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="421.6" x2="421.6" y1="939.0594" y2="949.4594"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="388.8" x2="421.6" y1="949.4594" y2="949.4594"/><polygon fill="#A80036" points="396.8,946.2594,388.8,949.4594,396.8,952.6594,393.6,949.4594" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.4" x="393.6" y="935.2656">12</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="414.4" y="935.2656"/><path d="M392,959.8594 L392,991.8594 L603.2,991.8594 L603.2,967.8594 L595.2,959.8594 L392,959.8594 " fill="#D3D3D3" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M595.2,959.8594 L595.2,967.8594 L603.2,967.8594 L595.2,959.8594 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="148" x="396.8" y="973.9141">Schedule reset repetitions for</text><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43.2" x="548" y="973.9141">actionId</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="132.8" x="396.8" y="986.1625">as per configuration rules.</text><polygon fill="#A80036" points="102,1013.4047,94,1016.6047,102,1019.8047,98.8,1016.6047" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="97.2" x2="379.2" y1="1016.6047" y2="1016.6047"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="14.4" x="106.8" y="1012.811">13</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="150.4" x="124.4" y="1012.811">Update topic with notification</text><path d="M232.8,1027.0047 L232.8,1071.0047 L372.8,1071.0047 L372.8,1035.0047 L364.8,1027.0047 L232.8,1027.0047 " fill="#FBFB77" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M364.8,1027.0047 L364.8,1035.0047 L372.8,1035.0047 L364.8,1027.0047 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="237.6" y="1041.0594">{</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="110.4" x="250.4" y="1053.3078">from field = "SYSTEM"</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="3.2" x="237.6" y="1065.5563">}</text><line style="stroke: #000000; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="18.4" x2="690.4" y1="1085.35" y2="1085.35"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="91.2" x="22.4" y="1093.8578">[Finish Signal "Yes"]</text><path d="M235.2,1100.5141 L235.2,1120.5141 L380,1120.5141 L380,1108.5141 L372,1100.5141 L235.2,1100.5141 " fill="#D3D3D3" filter="url(#f14kbewz9tsu8s)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M372,1100.5141 L372,1108.5141 L380,1108.5141 L372,1100.5141 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="128" x="240" y="1114.5688">EXIT - No action required</text><!--
@startuml
title 10.5. Notification Action Flow
autonumber

collections "Notification-Topic" as TOPIC_NOTIFY
boundary "Central Event Processor" as CEP
control "Action Agent" as AA
database "CEP Store" as DB

box "Central Services" #LightYellow
participant TOPIC_NOTIFY
end box
box "Central Event Processing Service" #LightGreen
participant CEP
participant AA
participant DB
end box

Group Action Flow
    activate CEP
    CEP -> AA: Recieves an action event
    activate AA
    AA -> AA
    note right of AA #lightGrey
        Evaluate action event
    end note

    alt Finish Signal "No"
        AA -> DB: Request **Action Object** details
        activate DB
        deactivate DB
        hnote over DB
            request
        end hnote
        note right of AA #LightGrey
            **Action Object** event details;
                Event action details,
                Hub notification details,
                DFSP notification details.
        end note
        AA -> AA
        note right of AA #LightGrey
            Prepare notification details
        end note
        AA -> DB: Request **Action Object** by same event details
        activate DB
        deactivate DB
        hnote over DB
            request
        end hnote

        alt No previous **Action Object** with same event detail
            AA -> DB: Store **Action Object**
            activate DB
            hnote over DB
                action
            end hnote
            AA <- - DB: Return result **actionId**
            deactivate DB
            AA -> AA
            note right of AA #LightGrey
                Schedule reset repetition for
                this **actionId** as per rules
            end note
            TOPIC_NOTIFY <- AA: Update topic with notification
            note left of AA
                {
                    from field = "SYSTEM"
                }
            end note
        else Previous **Action Object** with same event detail

            alt Repetition and notification interval allowed
                AA -> AA
                note right of AA #LightGrey
                    Update action.
                end note
            else Repetition and notification interval allowed not allowed
            end
            AA -> DB: Update **Action Object**
            activate DB
            deactivate DB
            AA -> AA
            note right of AA #LightGrey
                Schedule reset repetitions for **actionId**
                as per configuration rules.
            end note
            TOPIC_NOTIFY <- AA: Update topic with notification
            note left of AA
                {
                    from field = "SYSTEM"
                }
            end note
        end
    else Finish Signal "Yes"
    deactivate AA
    note right of CEP #LightGrey
        EXIT - No action required
    end note
    end
    deactivate CEP
end
@enduml

PlantUML version 1.2018.11(Sat Sep 22 18:43:53 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1343-b26
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>