<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1108px" preserveAspectRatio="none" style="width:1016px;height:1108px;" version="1.1" viewBox="0 0 1016 1108" width="1016px" zoomAndPan="magnify"><defs><filter height="300%" id="ffz1gc1tvgmki" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="256" x="381.25" y="23.5352">10.1. Notification Process Overview</text><rect fill="#FFFFE0" height="1062.627" style="stroke: #A80036; stroke-width: 1.0;" width="272" x="29" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="111" y="47.0566">Central Services</text><rect fill="#90EE90" height="1062.627" style="stroke: #A80036; stroke-width: 1.0;" width="429" x="407.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="227" x="508.5" y="47.0566">Central Event Processing Services</text><rect fill="#ADD8E6" height="1062.627" style="stroke: #A80036; stroke-width: 1.0;" width="151" x="838.5" y="34.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="859.5" y="47.0566">Notifier Services</text><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="81.5" y="424.8809"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="218.5" y="244.3281"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="97.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="218.5" y="844.9863"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="761.1211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="490.5" y="128.7754"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="791.5" y="523.502"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="791.5" y="785.6758"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="876.3633" style="stroke: #000000; stroke-width: 2.0;" width="992.5" x="13" y="135.7754"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="518.9473" style="stroke: #000000; stroke-width: 2.0;" width="829.5" x="23" y="370.9492"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="202.5078" style="stroke: #000000; stroke-width: 2.0;" width="702.5" x="140" y="665.4336"/><rect fill="#FFFFFF" height="14.9551" style="stroke: none; stroke-width: 1.0;" width="702.5" x="140" y="852.9863"/><rect fill="#FFFFFF" height="14.9551" style="stroke: none; stroke-width: 1.0;" width="829.5" x="23" y="874.9414"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="101.2422" style="stroke: #000000; stroke-width: 2.0;" width="855.5" x="140" y="903.8965"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="86" x2="86" y1="118.7754" y2="1029.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="223" x2="223" y1="118.7754" y2="1029.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="495.5" x2="495.5" y1="118.7754" y2="1029.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="796.5" x2="796.5" y1="118.7754" y2="1029.1387"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="913.5" x2="913.5" y1="118.7754" y2="1029.1387"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="33" y="99.334">Central Ledger</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="48" y="115.8223">Admin API</text><path d="M66,57.7988 L66,81.7988 M66,69.7988 L83,69.7988 " fill="none" filter="url(#ffz1gc1tvgmki)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="95" cy="69.7988" fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="101" x="33" y="1041.6738">Central Ledger</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="71" x="48" y="1058.1621">Admin API</text><path d="M66,1065.1152 L66,1089.1152 M66,1077.1152 L83,1077.1152 " fill="none" filter="url(#ffz1gc1tvgmki)" style="stroke: #A80036; stroke-width: 2.0;"/><ellipse cx="95" cy="1077.1152" fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="154" y="79.2871"/><rect fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="150" y="83.2871"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="157" y="103.8223">Notification-Topic</text><rect fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="154" y="1028.1387"/><rect fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="139" x="150" y="1032.1387"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="157" y="1052.6738">Notification-Topic</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="162" x="411.5" y="115.8223">Central Event Processor</text><ellipse cx="495.5" cy="86.2871" fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="491.5,74.2871,497.5,69.2871,495.5,74.2871,497.5,79.2871,491.5,74.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="162" x="411.5" y="1041.6738">Central Event Processor</text><ellipse cx="495.5" cy="1060.627" fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="491.5,1048.627,497.5,1043.627,495.5,1048.627,497.5,1053.627,491.5,1048.627" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="760.5" y="115.8223">CEP Store</text><path d="M778.5,66.2871 C778.5,56.2871 796.5,56.2871 796.5,56.2871 C796.5,56.2871 814.5,56.2871 814.5,66.2871 L814.5,92.2871 C814.5,102.2871 796.5,102.2871 796.5,102.2871 C796.5,102.2871 778.5,102.2871 778.5,92.2871 L778.5,66.2871 " fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M778.5,66.2871 C778.5,76.2871 796.5,76.2871 796.5,76.2871 C796.5,76.2871 814.5,76.2871 814.5,66.2871 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="66" x="760.5" y="1041.6738">CEP Store</text><path d="M778.5,1054.627 C778.5,1044.627 796.5,1044.627 796.5,1044.627 C796.5,1044.627 814.5,1044.627 814.5,1054.627 L814.5,1080.627 C814.5,1090.627 796.5,1090.627 796.5,1090.627 C796.5,1090.627 778.5,1090.627 778.5,1080.627 L778.5,1054.627 " fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M778.5,1054.627 C778.5,1064.627 796.5,1064.627 796.5,1064.627 C796.5,1064.627 814.5,1064.627 814.5,1054.627 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="842.5" y="115.8223">Notification Handler</text><ellipse cx="914" cy="86.2871" fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="910,74.2871,916,69.2871,914,74.2871,916,79.2871,910,74.2871" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="137" x="842.5" y="1041.6738">Notification Handler</text><ellipse cx="914" cy="1060.627" fill="#FEFECE" filter="url(#ffz1gc1tvgmki)" rx="12" ry="12" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="910,1048.627,916,1043.627,914,1048.627,916,1053.627,910,1048.627" style="stroke: #A80036; stroke-width: 1.0;"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="81.5" y="424.8809"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="218.5" y="244.3281"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="97.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="218.5" y="844.9863"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="761.1211" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="490.5" y="128.7754"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="791.5" y="523.502"/><rect fill="#FFFFFF" filter="url(#ffz1gc1tvgmki)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="791.5" y="785.6758"/><path d="M13,135.7754 L190,135.7754 L190,142.7754 L180,152.7754 L13,152.7754 L13,135.7754 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="876.3633" style="stroke: #000000; stroke-width: 2.0;" width="992.5" x="13" y="135.7754"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="28" y="149.3438">Notification Process</text><path d="M228,158.0859 L228,213.0859 L380,213.0859 L380,168.0859 L370,158.0859 L228,158.0859 " fill="#D3D3D3" filter="url(#ffz1gc1tvgmki)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M370,158.0859 L370,168.0859 L380,168.0859 L370,158.0859 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="234" y="175.6543">Events are published</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="234" y="190.9648">to Notification Topic</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="234" y="206.2754">by Central Services</text><polygon fill="#A80036" points="239.5,240.3281,229.5,244.3281,239.5,248.3281,235.5,244.3281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="233.5" x2="489.5" y1="244.3281" y2="244.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="245.5" y="239.5859">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="209" x="258.5" y="239.5859">Consumes notification messages</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="500.5" x2="542.5" y1="303.6387" y2="303.6387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542.5" x2="542.5" y1="303.6387" y2="316.6387"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="501.5" x2="542.5" y1="316.6387" y2="316.6387"/><polygon fill="#A80036" points="511.5,312.6387,501.5,316.6387,511.5,320.6387,507.5,316.6387" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="507.5" y="298.8965">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="524.5" y="298.8965"/><path d="M505,329.6387 L505,354.6387 L797,354.6387 L797,339.6387 L787,329.6387 L505,329.6387 " fill="#D3D3D3" filter="url(#ffz1gc1tvgmki)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M787,329.6387 L787,339.6387 L797,339.6387 L787,329.6387 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="271" x="511" y="347.207">Filter notification messages on event types</text><path d="M23,370.9492 L85,370.9492 L85,377.9492 L75,387.9492 L23,387.9492 L23,370.9492 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="518.9473" style="stroke: #000000; stroke-width: 2.0;" width="829.5" x="23" y="370.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="38" y="384.5176">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="190" x="100" y="383.584">[Messages event type that qualify]</text><polygon fill="#A80036" points="102.5,420.8809,92.5,424.8809,102.5,428.8809,98.5,424.8809" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="96.5" x2="489.5" y1="424.8809" y2="424.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="108.5" y="412.4834">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="245" x="121.5" y="404.8281">Request additional info for notification</text><text fill="#FF0000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="121.5" y="420.1387">Error codes:</text><text fill="#FF0000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="205.5" y="420.1387">2001, 2003</text><path d="M279,467.8809 L279,492.8809 L481,492.8809 L481,477.8809 L471,467.8809 L279,467.8809 " fill="#D3D3D3" filter="url(#ffz1gc1tvgmki)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M471,467.8809 L471,477.8809 L481,477.8809 L471,467.8809 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="181" x="285" y="485.4492">API call to Central Admin API</text><polygon fill="#A80036" points="779.5,519.502,789.5,523.502,779.5,527.502,783.5,523.502" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="500.5" x2="785.5" y1="523.502" y2="523.502"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="507.5" y="518.7598">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="259" x="520.5" y="518.7598">Persist message related data to CEP store</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="500.5" x2="542.5" y1="582.8125" y2="582.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542.5" x2="542.5" y1="582.8125" y2="595.8125"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="501.5" x2="542.5" y1="595.8125" y2="595.8125"/><polygon fill="#A80036" points="511.5,591.8125,501.5,595.8125,511.5,599.8125,507.5,595.8125" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="507.5" y="578.0703">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="524.5" y="578.0703"/><path d="M505,608.8125 L505,648.8125 L673,648.8125 L673,618.8125 L663,608.8125 L505,608.8125 " fill="#D3D3D3" filter="url(#ffz1gc1tvgmki)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M663,608.8125 L663,618.8125 L673,618.8125 L663,608.8125 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="511" y="626.3809">Invoke the Rule Engine.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="511" y="641.6914">Evaluate the facts.</text><path d="M140,665.4336 L202,665.4336 L202,672.4336 L192,682.4336 L140,682.4336 L140,665.4336 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="202.5078" style="stroke: #000000; stroke-width: 2.0;" width="702.5" x="140" y="665.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="17" x="155" y="679.002">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="305" x="217" y="678.0684">[Qualifying messages will trigger a notification event]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="500.5" x2="542.5" y1="704.0547" y2="704.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="542.5" x2="542.5" y1="704.0547" y2="717.0547"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="501.5" x2="542.5" y1="717.0547" y2="717.0547"/><polygon fill="#A80036" points="511.5,713.0547,501.5,717.0547,511.5,721.0547,507.5,717.0547" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="507.5" y="699.3125">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="0" x="524.5" y="699.3125"/><path d="M505,730.0547 L505,755.0547 L765,755.0547 L765,740.0547 L755,730.0547 L505,730.0547 " fill="#D3D3D3" filter="url(#ffz1gc1tvgmki)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M755,730.0547 L755,740.0547 L765,740.0547 L755,730.0547 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="239" x="511" y="747.623">Notification messages is constructed.</text><polygon fill="#A80036" points="779.5,781.6758,789.5,785.6758,779.5,789.6758,783.5,785.6758" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="500.5" x2="785.5" y1="785.6758" y2="785.6758"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="507.5" y="780.9336">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="228" x="520.5" y="780.9336">Persist new notification to CEP Store</text><polygon fill="#A80036" points="239.5,840.9863,229.5,844.9863,239.5,848.9863,235.5,844.9863" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="233.5" x2="489.5" y1="844.9863" y2="844.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="245.5" y="840.2441">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="230" x="258.5" y="840.2441">Place message to Notification-Topic</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="140" x2="842.5" y1="853.9863" y2="853.9863"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="322" x="145" y="864.6211">[Message does not qualify for notification event (Ignore)]</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="23" x2="852.5" y1="875.9414" y2="875.9414"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="387" x="28" y="886.5762">[Message event type does not qualify for notification action (Ignore)]</text><path d="M140,903.8965 L304,903.8965 L304,910.8965 L294,920.8965 L140,920.8965 L140,903.8965 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="101.2422" style="stroke: #000000; stroke-width: 2.0;" width="855.5" x="140" y="903.8965"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="155" y="917.4648">Notification event</text><polygon fill="#A80036" points="234.5,938.5176,224.5,942.5176,234.5,946.5176,230.5,942.5176" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="228.5" x2="913" y1="942.5176" y2="942.5176"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="240.5" y="937.7754">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="383" x="253.5" y="937.7754">Consumes messages from Notification Topic for processing.</text><path d="M650,955.5176 L650,995.5176 L905,995.5176 L905,965.5176 L895,955.5176 L650,955.5176 " fill="#D3D3D3" filter="url(#ffz1gc1tvgmki)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M895,955.5176 L895,965.5176 L905,965.5176 L895,955.5176 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="234" x="656" y="973.0859">Notifier Handler to process topic and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="187" x="656" y="988.3965">distribute notifications/alerts</text><!--
@startuml
title 10.1. Notification Process Overview
autonumber

boundary "Central Ledger\nAdmin API" as CLAPI
control "Central Event Processor" as CEP
control "Notification Handler" as NOTIFIER
collections "Notification-Topic" as topicNotify
database "CEP Store" as DB

box "Central Services" #LightYellow
participant CLAPI
participant topicNotify
end box
box "Central Event Processing Services" #LightGreen
participant CEP
participant DB
end box
box "Notifier Services" #LightBlue
participant NOTIFIER
end box

group Notification Process
    activate CEP
    note right of topicNotify #LightGrey
        Events are published
        to Notification Topic
        by Central Services
    end note
    topicNotify <- CEP: Consumes notification messages
    activate topicNotify
    deactivate topicNotify
    CEP -> CEP
    note right of CEP #LightGrey
        Filter notification messages on event types
    end note

    alt Messages event type that qualify
        CEP -> CLAPI: Request additional info for notification\n<color #FF0000><b>Error codes:</b> 2001, 2003 </color>
        activate CLAPI
        note left of CEP #LightGrey
            API call to Central Admin API
        end note
        deactivate CLAPI
        CEP -> DB: Persist message related data to CEP store
        activate DB
        deactivate DB
        CEP -> CEP
        note right of CEP #LightGrey
            Invoke the Rule Engine.
            Evaluate the facts.
        end note

        alt Qualifying messages will trigger a notification event
            CEP -> CEP
            note right of CEP #LightGrey
                Notification messages is constructed.
            end note
            CEP -> DB: Persist new notification to CEP Store
            activate DB
            deactivate DB
            topicNotify <- CEP: Place message to Notification-Topic
            activate topicNotify
        else Message does not qualify for notification event (Ignore)
        end
    else Message event type does not qualify for notification action (Ignore)
    deactivate CEP
    end

    group Notification event
    topicNotify <- - NOTIFIER: Consumes messages from Notification Topic for processing.
    note left of NOTIFIER #LightGrey
        Notifier Handler to process topic and
        distribute notifications/alerts
    end note
            deactivate topicNotify
    end
end
@enduml

PlantUML version 1.2018.11(Sat Sep 22 18:43:53 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1343-b26
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>