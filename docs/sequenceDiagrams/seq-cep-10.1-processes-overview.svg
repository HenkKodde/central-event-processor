<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="924.8px" preserveAspectRatio="none" style="width:760px;height:924px;" version="1.1" viewBox="0 0 760 924" width="760px" zoomAndPan="magnify"><defs><filter height="300%" id="f1tb5sldufdc6k" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.600000023841858"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="3.200000047683716" dy="3.200000047683716" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="11.2" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="204.8" x="275" y="18.8281">10.1. Notification Process Overview</text><rect fill="#FFFFE0" height="888.5016" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="217.6" x="23.2" y="27.5906"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="86.4" x="88.8" y="37.6453">Central Services</text><rect fill="#90EE90" height="888.5016" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="348.8" x="309.2" y="27.5906"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="181.6" x="392.8" y="37.6453">Central Event Processing Services</text><rect fill="#ADD8E6" height="888.5016" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="92" x="659.6" y="27.5906"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87.2" x="662" y="37.6453">Notifier Services</text><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="65.2" y="308.4563"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="174.8" y="195.4625"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="174.8" y="666.3891"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="174.8" y="768.4141"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="623.2969" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="375.6" y="103.0203"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="622" y="387.3531"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="622" y="592.2922"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="689.3938" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="701.6" y="103.0203"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="739.4906" style="stroke: #000000; stroke-width: 1.600000023841858;" width="734" x="10.4" y="108.6203"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="461.0063" style="stroke: #000000; stroke-width: 1.600000023841858;" width="652.4" x="18.4" y="265.3109"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="181.2063" style="stroke: #000000; stroke-width: 1.600000023841858;" width="550.8" x="112" y="527.5469"/><rect fill="#FFFFFF" height="11.9641" style="stroke: none; stroke-width: 0.800000011920929;" width="550.8" x="112" y="696.7891"/><rect fill="#FFFFFF" height="11.9641" style="stroke: none; stroke-width: 0.800000011920929;" width="652.4" x="18.4" y="714.3531"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="104.9938" style="stroke: #000000; stroke-width: 1.600000023841858;" width="624.4" x="112" y="737.5172"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="68.8" x2="68.8" y1="95.0203" y2="861.711"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="178.4" x2="178.4" y1="95.0203" y2="861.711"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="379.6" x2="379.6" y1="95.0203" y2="861.711"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="626" x2="626" y1="95.0203" y2="861.711"/><line style="stroke: #A80036; stroke-width: 0.800000011920929; stroke-dasharray: 5.0,5.0;" x1="705.2" x2="705.2" y1="95.0203" y2="861.711"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="80.8" x="26.4" y="79.4672">Central Ledger</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="56.8" x="38.4" y="92.6578">Admin API</text><path d="M52.8,46.2391 L52.8,65.4391 M52.8,55.8391 L66.4,55.8391 " fill="none" filter="url(#f1tb5sldufdc6k)" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><ellipse cx="76" cy="55.8391" fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="80.8" x="26.4" y="871.7391">Central Ledger</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="56.8" x="38.4" y="884.9297">Admin API</text><path d="M52.8,890.4922 L52.8,909.6922 M52.8,900.0922 L66.4,900.0922 " fill="none" filter="url(#f1tb5sldufdc6k)" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><ellipse cx="76" cy="900.0922" fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><rect fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" height="24.3906" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="111.2" x="123.2" y="63.4297"/><rect fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" height="24.3906" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="111.2" x="120" y="66.6297"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="100" x="125.6" y="83.0578">Notification-Topic</text><rect fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" height="24.3906" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="111.2" x="123.2" y="860.911"/><rect fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" height="24.3906" style="stroke: #A80036; stroke-width: 1.2000000178813934;" width="111.2" x="120" y="864.111"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="100" x="125.6" y="880.5391">Notification-Topic</text><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="129.6" x="312.4" y="92.6578">Central Event Processor</text><ellipse cx="379.6" cy="69.0297" fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><polygon fill="#A80036" points="376.4,59.4297,381.2,55.4297,379.6,59.4297,381.2,63.4297,376.4,59.4297" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="129.6" x="312.4" y="871.7391">Central Event Processor</text><ellipse cx="379.6" cy="886.9016" fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><polygon fill="#A80036" points="376.4,877.3016,381.2,873.3016,379.6,877.3016,381.2,881.3016,376.4,877.3016" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="52.8" x="597.2" y="92.6578">CEP Store</text><path d="M611.6,53.0297 C611.6,45.0297 626,45.0297 626,45.0297 C626,45.0297 640.4,45.0297 640.4,53.0297 L640.4,73.8297 C640.4,81.8297 626,81.8297 626,81.8297 C626,81.8297 611.6,81.8297 611.6,73.8297 L611.6,53.0297 " fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><path d="M611.6,53.0297 C611.6,61.0297 626,61.0297 626,61.0297 C626,61.0297 640.4,61.0297 640.4,53.0297 " fill="none" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="52.8" x="597.2" y="871.7391">CEP Store</text><path d="M611.6,882.1016 C611.6,874.1016 626,874.1016 626,874.1016 C626,874.1016 640.4,874.1016 640.4,882.1016 L640.4,902.9016 C640.4,910.9016 626,910.9016 626,910.9016 C626,910.9016 611.6,910.9016 611.6,902.9016 L611.6,882.1016 " fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><path d="M611.6,882.1016 C611.6,890.1016 626,890.1016 626,890.1016 C626,890.1016 640.4,890.1016 640.4,882.1016 " fill="none" style="stroke: #000000; stroke-width: 1.2000000178813934;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="40.8" x="682.8" y="92.6578">Notifier</text><ellipse cx="705.6" cy="69.0297" fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><polygon fill="#A80036" points="702.4,59.4297,707.2,55.4297,705.6,59.4297,707.2,63.4297,702.4,59.4297" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="11.2" lengthAdjust="spacingAndGlyphs" textLength="40.8" x="682.8" y="871.7391">Notifier</text><ellipse cx="705.6" cy="886.9016" fill="#FEFECE" filter="url(#f1tb5sldufdc6k)" rx="9.6" ry="9.6" style="stroke: #A80036; stroke-width: 1.600000023841858;"/><polygon fill="#A80036" points="702.4,877.3016,707.2,873.3016,705.6,877.3016,707.2,881.3016,702.4,877.3016" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="65.2" y="308.4563"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="174.8" y="195.4625"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="174.8" y="666.3891"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="174.8" y="768.4141"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="623.2969" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="375.6" y="103.0203"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="622" y="387.3531"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="24" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="622" y="592.2922"/><rect fill="#FFFFFF" filter="url(#f1tb5sldufdc6k)" height="689.3938" style="stroke: #A80036; stroke-width: 0.800000011920929;" width="8" x="701.6" y="103.0203"/><path d="M10.4,108.6203 L152,108.6203 L152,114.2203 L144,122.2203 L10.4,122.2203 L10.4,108.6203 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="739.4906" style="stroke: #000000; stroke-width: 1.600000023841858;" width="734" x="10.4" y="108.6203"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="105.6" x="22.4" y="119.475">Notification Process</text><path d="M49.6,126.4688 L49.6,170.4688 L171.2,170.4688 L171.2,134.4688 L163.2,126.4688 L49.6,126.4688 " fill="#D3D3D3" filter="url(#f1tb5sldufdc6k)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M163.2,126.4688 L163.2,134.4688 L171.2,134.4688 L163.2,126.4688 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="104" x="54.4" y="140.5234">Events are published</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="104.8" x="54.4" y="152.7719">to Notification Topic</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="98.4" x="54.4" y="165.0203">by Central Services.</text><polygon fill="#A80036" points="191.6,192.2625,183.6,195.4625,191.6,198.6625,188.4,195.4625" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="186.8" x2="374.8" y1="195.4625" y2="195.4625"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="196.4" y="191.6688">1</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="167.2" x="206.8" y="191.6688">Consumes notification messages</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="383.6" x2="417.2" y1="242.9109" y2="242.9109"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="417.2" x2="417.2" y1="242.9109" y2="253.3109"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="384.4" x2="417.2" y1="253.3109" y2="253.3109"/><polygon fill="#A80036" points="392.4,250.1109,384.4,253.3109,392.4,256.5109,389.2,253.3109" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="389.2" y="239.1172">2</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="216.8" x="399.6" y="239.1172">Filter notification messages on event types</text><path d="M18.4,265.3109 L68,265.3109 L68,270.9109 L60,278.9109 L18.4,278.9109 L18.4,265.3109 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="461.0063" style="stroke: #000000; stroke-width: 1.600000023841858;" width="652.4" x="18.4" y="265.3109"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="30.4" y="276.1656">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="152" x="80" y="275.4188">[Messages event type that qualify]</text><polygon fill="#A80036" points="82,305.2563,74,308.4563,82,311.6563,78.8,308.4563" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="77.2" x2="374.8" y1="308.4563" y2="308.4563"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="86.8" y="298.5383">3</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="196" x="97.2" y="292.4141">Request additional info for notification</text><text fill="#FF0000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="97.2" y="304.6625">Error codes:</text><text fill="#FF0000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="57.6" x="164.4" y="304.6625">2001, 2003</text><path d="M166.4,342.8563 L166.4,362.8563 L368,362.8563 L368,350.8563 L360,342.8563 L166.4,342.8563 " fill="#D3D3D3" filter="url(#f1tb5sldufdc6k)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M360,342.8563 L360,350.8563 L368,350.8563 L360,342.8563 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="184.8" x="171.2" y="356.9109">API call to Central Ledger Admin API.</text><polygon fill="#A80036" points="612.4,384.1531,620.4,387.3531,612.4,390.5531,615.6,387.3531" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="383.6" x2="617.2" y1="387.3531" y2="387.3531"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="389.2" y="383.5594">4</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="143.2" x="399.6" y="383.5594">Persist message related data</text><polygon fill="#FFFFE0" filter="url(#f1tb5sldufdc6k)" points="608,421.7531,644,421.7531,652,430.5531,644,440.1531,608,440.1531,600,430.5531,608,421.7531" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="32.8" x="609.6" y="435.0078">events</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="383.6" x2="417.2" y1="461.45" y2="461.45"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="417.2" x2="417.2" y1="461.45" y2="471.85"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="384.4" x2="417.2" y1="471.85" y2="471.85"/><polygon fill="#A80036" points="392.4,468.65,384.4,471.85,392.4,475.05,389.2,471.85" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="389.2" y="457.6563">5</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="0" x="402.8" y="457.6563"/><path d="M387.2,482.25 L387.2,514.25 L521.6,514.25 L521.6,490.25 L513.6,482.25 L387.2,482.25 " fill="#D3D3D3" filter="url(#f1tb5sldufdc6k)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M513.6,482.25 L513.6,490.25 L521.6,490.25 L513.6,482.25 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="117.6" x="392" y="496.3047">Invoke the Rule Engine.</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="92" x="392" y="508.5531">Evaluate the facts.</text><path d="M112,527.5469 L161.6,527.5469 L161.6,533.1469 L153.6,541.1469 L112,541.1469 L112,527.5469 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="181.2063" style="stroke: #000000; stroke-width: 1.600000023841858;" width="550.8" x="112" y="527.5469"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="13.6" x="124" y="538.4016">alt</text><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="244" x="173.6" y="537.6547">[Qualifying messages will trigger a notification event]</text><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="383.6" x2="417.2" y1="558.4438" y2="558.4438"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="417.2" x2="417.2" y1="558.4438" y2="568.8438"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="384.4" x2="417.2" y1="568.8438" y2="568.8438"/><polygon fill="#A80036" points="392.4,565.6438,384.4,568.8438,392.4,572.0438,389.2,568.8438" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="389.2" y="554.65">6</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="140" x="399.6" y="554.65">Constructs new notification</text><polygon fill="#A80036" points="612.4,589.0922,620.4,592.2922,612.4,595.4922,615.6,592.2922" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="383.6" x2="617.2" y1="592.2922" y2="592.2922"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="389.2" y="588.4984">7</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="118.4" x="399.6" y="588.4984">Persist new notification</text><polygon fill="#FFFFE0" filter="url(#f1tb5sldufdc6k)" points="608.8,626.6922,643.2,626.6922,651.2,635.4922,643.2,645.0922,608.8,645.0922,600.8,635.4922,608.8,626.6922" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="610.4" y="639.9469">action</text><polygon fill="#A80036" points="191.6,663.1891,183.6,666.3891,191.6,669.5891,188.4,666.3891" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="186.8" x2="374.8" y1="666.3891" y2="666.3891"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="196.4" y="662.5953">8</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="118.4" x="206.8" y="662.5953">Persist new notification</text><line style="stroke: #000000; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="112" x2="662.8" y1="697.5891" y2="697.5891"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="257.6" x="116" y="706.0969">[Message does not qualify for notification event (Ignore)]</text><line style="stroke: #000000; stroke-width: 0.800000011920929; stroke-dasharray: 2.0,2.0;" x1="18.4" x2="670.8" y1="715.1531" y2="715.1531"/><text fill="#000000" font-family="sans-serif" font-size="8.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="309.6" x="22.4" y="723.6609">[Message event type does not qualify for notification action (Ignore)]</text><path d="M112,737.5172 L243.2,737.5172 L243.2,743.1172 L235.2,751.1172 L112,751.1172 L112,737.5172 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 0.800000011920929;"/><rect fill="none" height="104.9938" style="stroke: #000000; stroke-width: 1.600000023841858;" width="624.4" x="112" y="737.5172"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="95.2" x="124" y="748.3719">Notification event</text><polygon fill="#A80036" points="191.6,765.2141,183.6,768.4141,191.6,771.6141,188.4,768.4141" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><line style="stroke: #A80036; stroke-width: 0.800000011920929;" x1="186.8" x2="700.8" y1="768.4141" y2="768.4141"/><text fill="#000000" font-family="sans-serif" font-size="10.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="7.2" x="196.4" y="764.6203">9</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="161.6" x="206.8" y="764.6203">Consumes messages from topic</text><path d="M494.4,802.8141 L494.4,834.8141 L698.4,834.8141 L698.4,810.8141 L690.4,802.8141 L494.4,802.8141 " fill="#D3D3D3" filter="url(#f1tb5sldufdc6k)" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><path d="M690.4,802.8141 L690.4,810.8141 L698.4,810.8141 L690.4,802.8141 " fill="#D3D3D3" style="stroke: #A80036; stroke-width: 0.800000011920929;"/><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="187.2" x="499.2" y="816.8688">Notifier Handler to process topic and</text><text fill="#000000" font-family="sans-serif" font-size="10.4" lengthAdjust="spacingAndGlyphs" textLength="152.8" x="499.2" y="829.1172">distribute notifications/alerts.</text><!--
@startuml
title 10.1. Notification Process Overview
autonumber

boundary "Central Ledger\nAdmin API" as CLAPI
control "Central Event Processor" as CEP
control "Notifier" as NOTIFIER
collections "Notification-Topic" as topicNotify
database "CEP Store" as DB

box "Central Services" #LightYellow
participant CLAPI
participant topicNotify
end box
box "Central Event Processing Services" #LightGreen
participant CEP
participant DB
end box
box "Notifier Services" #LightBlue
participant NOTIFIER
end box

group Notification Process
    activate CEP
    activate NOTIFIER
    note left of topicNotify #LightGrey
        Events are published
        to Notification Topic
        by Central Services.
    end note
    topicNotify <- CEP: Consumes notification messages
    activate topicNotify
    deactivate topicNotify
    CEP -> CEP: Filter notification messages on event types
    alt Messages event type that qualify
        CEP -> CLAPI: Request additional info for notification\n<color #FF0000><b>Error codes:</b> 2001, 2003 </color>
        activate CLAPI
        note left of CEP #LightGrey
            API call to Central Ledger Admin API.
        end note
        deactivate CLAPI
        CEP -> DB: Persist message related data
        hnote over DB #LightYellow
            events
        end hnote
        activate DB
        deactivate DB
        CEP -> CEP
        note right of CEP #LightGrey
            Invoke the Rule Engine.
            Evaluate the facts.
        end note

        alt Qualifying messages will trigger a notification event
            CEP -> CEP: Constructs new notification
            CEP -> DB: Persist new notification
            hnote over DB #LightYellow
                action
            end hnote
            activate DB
            deactivate DB
            topicNotify <- CEP: Persist new notification
            activate topicNotify
            deactivate topicNotify
        else Message does not qualify for notification event (Ignore)
        end
    else Message event type does not qualify for notification action (Ignore)
    deactivate CEP
    end

    group Notification event
    topicNotify <- NOTIFIER: Consumes messages from topic
    activate topicNotify
    deactivate NOTIFIER
    deactivate topicNotify
    note left of NOTIFIER #LightGrey
        Notifier Handler to process topic and
        distribute notifications/alerts.
    end note
    end
end
@enduml

PlantUML version 1.2018.11(Sat Sep 22 18:43:53 SAST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1343-b26
Operating System: Mac OS X
OS Version: 10.14.2
Default Encoding: UTF-8
Language: en
Country: ZA
--></g></svg>